# Инструкция по добавлению модели

## Добавление файла модели

1. Скопируйте файл `fasterrcnn_resnet50_multidataset.pth` в папку `models/`:
   ```bash
   cp /path/to/fasterrcnn_resnet50_multidataset.pth ./models/
   ```

2. Перезапустите контейнеры:
   ```bash
   docker-compose down
   docker-compose up --build
   ```

## Проверка загрузки модели

После запуска проверьте статус модели:
```bash
curl http://localhost:8000/health
```

Ответ должен содержать `"model_loaded": true` если модель загружена успешно.

## Структура ответа модели

Модель возвращает JSON с детекциями:
- `boxes`: координаты пикселей [x1, y1, x2, y2] где найден дефект
- `labels`: индекс типа дефекта (2=вмятина, 3=ржавчина, 4=царапина)
- `scores`: уверенность модели в предсказании (0.0-1.0)

## Возможные проблемы

- Если файл модели отсутствует, API работает в mock-режиме
- Убедитесь что файл имеет правильное имя: `fasterrcnn_resnet50_multidataset.pth`
- Проверьте права доступа к файлу модели